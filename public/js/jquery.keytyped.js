(function(d){var b="|||||||||    ||||||||||||||||||||||| |||||[left]|[up]|[right]|[down]||||||||0|1|2|3|4|5|6|7|8|9||;||=||||a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z|||||||||||||||||||-|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||;|=|,|-|.|/|`|||||||||||||||||||||||||||[|\\|]|'".split("|");var c=',,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,[left],[up],[right],[down],,,,,,,,),!,@,#,$,%,^,&,*,(,,:,,+,,,,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,,,,,,,,,,,,,,,,,,,_,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:,+,<,_,>,?,~,,,,,,,,,,,,,,,,,,,,,,,,,,,{,|,},"'.split(",");function a(g){window.console.dir(g);var f=g.keyCode;this.key_code=f;this.is_visible=((f>64&&f<91)||(f>47&&f<62)||f==109||(f>185&&f<193)||(f>218&&f<223));this.is_whitespace=(f==9||f==10||f==32);this.is_return=(f==13);this.is_command=g.metaKey;this.is_shift=g.shiftKey;this.is_arrow=f>36&&f<41;this.is_backspace=f==8;this.pressed=this.is_shift?c[this.key_code]:b[this.key_code];if(this.is_visible||this.is_whitespace){this.character=this.pressed}else{this.character=""}this.char_size=this.character.length}d.fn.keyTyped=function(g,e){var f=d.extend({},d.fn.keyTyped.defaults,e);return this.each(function(){var j=d(this);var k=d.meta?d.extend({},f,j.data()):f;var i=function(l){l=new a(l);return g(l)};if(d.browser.safari||d.browser.mozilla){j.keydown(i)}if(d.browser.mozilla){var h=g;g=function(l){if(window.autorepeating_key){clearInterval(window.autorepeating_key)}window.autorepeating_key=setTimeout(function(){window.autorepeating_key=setInterval(function(){h(l)},100)},500);h(l)};j.keyup(function(){if(window.autorepeating_key){clearInterval(window.autorepeating_key)}});j.keypress(function(l){if(l.metaKey){return true}else{return false}})}})};d.keyTyped={}})(jQuery);